<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Premium Valentine Wish ‚ù§Ô∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root {
  --primary: #ff4d6d;
  --glass: rgba(255, 255, 255, 0.25);
  --glass-border: rgba(255, 255, 255, 0.4);
}

*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}

body{
  height:100vh;
  background: linear-gradient(45deg, #ff758c, #ff7eb3, #fd3535);
  background-size: 400% 400%;
  animation: gradientBG 10s ease infinite;
  overflow:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
}

@keyframes gradientBG {
  0% {background-position: 0% 50%;}
  50% {background-position: 100% 50%;}
  100% {background-position: 0% 50%;}
}

/* Glassmorphism Card Style */
.container, .card {
  background: var(--glass);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border);
  border-radius: 25px;
  padding: 30px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.15);
  text-align: center;
  color: white;
  width: 90%;
  max-width: 400px;
}

.page { position: absolute; display: none; width: 100%; justify-content: center; }
.page.active { display: flex; animation: zoomIn 0.8s ease forwards; }

@keyframes zoomIn {
  from {opacity: 0; transform: scale(0.8);}
  to {opacity: 1; transform: scale(1);}
}

h1 { font-size: 1.8rem; margin-bottom: 15px; text-shadow: 2px 2px 4px rgba(0,0,0,0.2); }
p { font-size: 1rem; line-height: 1.6; margin-bottom: 20px; white-space: pre-wrap; }

/* Photo Frame */
.photo-frame {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  border: 4px solid white;
  margin: 0 auto 15px;
  overflow: hidden;
  background: #eee;
}
.photo-frame img { width: 100%; height: 100%; object-fit: cover; }

/* Buttons */
button {
  padding: 12px 25px;
  border: none;
  border-radius: 50px;
  background: white;
  color: var(--primary);
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}
button:hover { transform: translateY(-3px); box-shadow: 0 6px 20px rgba(0,0,0,0.2); }

/* Input Styles */
input {
  width: 80%;
  padding: 10px;
  border-radius: 10px;
  border: none;
  margin-bottom: 10px;
  outline: none;
}

/* Question Section */
.btn-group { display: flex; justify-content: center; gap: 20px; margin-top: 20px; position: relative; }
#noBtn { position: relative; background: #ff4d6d; color: white; }

/* Hearts & Sparkles */
.heart { position: fixed; font-size: 20px; animation: fall linear forwards; pointer-events: none; }
@keyframes fall { to { transform: translateY(110vh) rotate(360deg); opacity: 0; } }
</style>
</head>
<body>

<div class="container" id="inputPage">
  <h1>üíñ Create Wish üíñ</h1>
  <input type="text" id="fromInput" placeholder="Your Name">
  <input type="date" id="dateInput" title="When did you first meet?">
  <p style="font-size: 0.8rem;">(Select the date you first met)</p>
  <button onclick="generateLink()">Generate Magic Link</button>
  <div id="linkBox" style="margin-top:15px; font-size: 12px; color: #fff;"></div>
</div>

<div class="page" id="p1">
  <div class="card">
    <div class="photo-frame">
      <img src="https://cdn-icons-png.flaticon.com/512/4359/4359914.png" alt="Couple">
    </div>
    <h1>Happy Valentine's!</h1>
    <p id="welcome"></p>
    <button onclick="nextPage()">Open My Heart</button>
  </div>
</div>

<div class="page" id="p2">
  <div class="card">
    <h1>Our Journey ‚è≥</h1>
    <div id="counter" style="font-size: 1.2rem; font-weight: bold; margin-bottom: 20px;"></div>
    <p id="msg2"></p>
    <button onclick="nextPage()">Next ‚ù§Ô∏è</button>
  </div>
</div>

<div class="page" id="p3">
  <div class="card">
    <h1>My Promise ü§ù</h1>
    <p id="msg3"></p>
    <button onclick="nextPage()">One More Thing...</button>
  </div>
</div>

<div class="page" id="p4">
  <div class="card">
    <h1>A Question... üíç</h1>
    <p>Will you be my Valentine forever?</p>
    <div class="btn-group">
      <button onclick="beValentine()">Yes!</button>
      <button id="noBtn" onmouseover="moveNo()">No</button>
    </div>
  </div>
</div>

<div class="page" id="p5">
  <div class="card">
    <h1>Yay! ‚ù§Ô∏èüåπ</h1>
    <p id="finalMsg"></p>
    <div style="font-size: 50px;">üíë</div>
    <p id="fromText" style="margin-top: 20px; font-weight: bold;"></p>
  </div>
</div>

<script>
let i=1;
let startDate = "";

function generateLink(){
  const name = document.getElementById("fromInput").value.trim();
  const date = document.getElementById("dateInput").value;
  if(!name || !date){alert("Please fill name and date!"); return;}
  
  const url = window.location.origin + window.location.pathname + 
              `?from=${encodeURIComponent(name)}&date=${date}`;
  document.getElementById("linkBox").innerHTML = `Share this: <br><a href="${url}" style="color:yellow;">${url}</a>`;
}

function typeWriter(element, text, speed=40){
  let index=0;
  element.innerHTML="";
  const interval=setInterval(()=>{
    element.innerHTML+=text.charAt(index);
    index++;
    if(index>=text.length) clearInterval(interval);
  },speed);
}

function updateCounter(dateStr) {
  const start = new Date(dateStr);
  const now = new Date();
  const diffTime = Math.abs(now - start);
  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
  document.getElementById("counter").innerHTML = `We have been together for<br><span style="font-size:2rem;">${diffDays}</span><br>Beautiful Days!`;
}

function nextPage(){
  document.getElementById("p"+i).classList.remove("active");
  i++;
  document.getElementById("p"+i).classList.add("active");
  
  if(i==2) {
    updateCounter(startDate);
    typeWriter(document.getElementById("msg2"), "Every single day with you feels like a blessing. I cherish every moment we spend together.");
  }
  if(i==3) {
    typeWriter(document.getElementById("msg3"), "I promise to be your strength when you are weak, and your smile when you are sad. You are my everything.");
  }
}

function moveNo() {
  const btn = document.getElementById("noBtn");
  const x = Math.random() * (window.innerWidth - 100);
  const y = Math.random() * (window.innerHeight - 50);
  btn.style.position = "fixed";
  btn.style.left = x + "px";
  btn.style.top = y + "px";
}

function beValentine() {
  document.getElementById("p4").classList.remove("active");
  document.getElementById("p5").classList.add("active");
  typeWriter(document.getElementById("finalMsg"), "You just made me the happiest person on earth! I love you so much! ‚ù§Ô∏è");
  roseRain();
}

function heart(){
  const h=document.createElement("div");
  h.className="heart";
  h.innerText=["‚ù§Ô∏è","üíñ","‚ú®","üå∏"][Math.floor(Math.random()*4)];
  h.style.left=Math.random()*100+"vw";
  h.style.animationDuration=(2+Math.random()*3)+"s";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),5000);
}
setInterval(heart,300);

function roseRain(){
  for(let j=0; j<100; j++){
    setTimeout(heart, j*50);
  }
}

window.onload = function(){
  const params=new URLSearchParams(window.location.search);
  const name=params.get("from");
  startDate=params.get("date");
  if(name && startDate){
    document.getElementById("inputPage").style.display="none";
    document.getElementById("p1").classList.add("active");
    typeWriter(document.getElementById("welcome"), `Dear My Love,\nYou are the most special person in my life. This is for you...`);
    document.getElementById("fromText").innerText=`With Love, ${name}`;
  }
};
</script>
</body>
</html>