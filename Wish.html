<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentine Surprise ‚ù§Ô∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Arial', sans-serif;
}

body {
  height: 100vh;
  background: linear-gradient(180deg, #ff4d6d, #ff758c);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  position: relative;
}

.container {
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(10px);
  border-radius: 20px;
  padding: 30px;
  text-align: center;
  color: white;
  width: 90%;
  max-width: 400px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
  z-index: 10;
  border: 1px solid rgba(255, 255, 255, 0.2);
}

h1 {
  font-size: 1.8rem;
  margin-bottom: 20px;
  color: white;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

p {
  font-size: 1.1rem;
  line-height: 1.6;
  margin-bottom: 20px;
  min-height: 80px;
}

.input-group {
  margin-bottom: 20px;
}

input {
  width: 100%;
  padding: 15px;
  border-radius: 10px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  margin-bottom: 15px;
  background: rgba(255, 255, 255, 0.9);
  font-size: 1rem;
  text-align: center;
  transition: 0.3s;
}

input:focus {
  outline: none;
  border-color: #ff4d6d;
  box-shadow: 0 0 10px rgba(255, 77, 109, 0.5);
}

button {
  padding: 15px 30px;
  border: none;
  border-radius: 50px;
  background: white;
  color: #ff4d6d;
  font-weight: bold;
  font-size: 1.1rem;
  cursor: pointer;
  transition: 0.3s;
  margin: 10px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

button:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.3);
}

.btn-group {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-top: 20px;
  position: relative;
  min-height: 60px;
}

#noBtn {
  position: absolute;
  background: #ff4d6d;
  color: white;
  border: 2px solid white;
}

/* Love Rain Animation */
.love-rain {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
}

.love-drop {
  position: absolute;
  color: rgba(255, 255, 255, 0.8);
  font-size: 24px;
  animation: fall linear infinite;
  text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
}

@keyframes fall {
  to {
    transform: translateY(100vh) rotate(360deg);
    opacity: 0;
  }
}

/* Confetti */
.confetti {
  position: absolute;
  width: 10px;
  height: 10px;
  background-color: #fff;
  animation: confettiFall 2s ease-out forwards;
  pointer-events: none;
  z-index: 1001;
  border-radius: 50%;
}

@keyframes confettiFall {
  0% { transform: translate(0, 0) rotateZ(0deg); opacity: 1; }
  100% { transform: translate(var(--x), 100vh) rotateZ(var(--deg)); opacity: 0; }
}

/* Heart Pop Effect */
.heart-pop {
  position: absolute;
  font-size: 30px;
  animation: pop 1s ease-out forwards;
  pointer-events: none;
  z-index: 1000;
}

@keyframes pop {
  0% { transform: scale(0); opacity: 1; }
  50% { transform: scale(1.2); opacity: 1; }
  100% { transform: scale(1); opacity: 0; }
}

.share-section {
  display: none;
  margin-top: 20px;
  padding-top: 20px;
  border-top: 1px solid rgba(255,255,255,0.2);
}

.link-box {
  word-break: break-all;
  background: rgba(0,0,0,0.2);
  padding: 10px;
  border-radius: 8px;
  margin-bottom: 15px;
  font-size: 13px;
  color: white;
}

.share-buttons {
  display: flex;
  gap: 10px;
  justify-content: center;
}

.share-btn {
  padding: 10px 20px;
  font-size: 14px;
}

.whatsapp-btn { background: #25D366; color: white; }
.copy-btn { background: #555; color: white; }

/* Typewriter cursor effect */
.typewriter {
  border-right: 2px solid rgba(255, 255, 255, 0.8);
  animation: blink 0.7s infinite;
}

@keyframes blink {
  0%, 100% { border-color: transparent; }
  50% { border-color: rgba(255, 255, 255, 0.8); }
}

/* Romantic text styles */
.romantic-text {
  color: #ffeb3b;
  font-weight: bold;
  text-shadow: 0 0 10px rgba(255, 235, 59, 0.5);
}

.large-heart {
  font-size: 40px;
  margin: 15px 0;
  animation: heartbeat 1.5s infinite;
}

@keyframes heartbeat {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}
</style>
</head>
<body>

<!-- Love Rain Container -->
<div class="love-rain" id="loveRain"></div>

<!-- Input Page -->
<div class="container" id="inputPage">
  <h1>üíñ Create Valentine Wish üíñ</h1>
  
  <div class="input-group">
    <input type="text" id="creatorName" placeholder="Your Name (‡¶Ø‡¶ø‡¶®‡¶ø ‡¶¶‡¶ø‡¶ö‡ßç‡¶õ‡ßá‡¶®)" required>
    <input type="text" id="partnerName" placeholder="Their Name (‡¶Ø‡¶ø‡¶®‡¶ø ‡¶™‡¶æ‡¶¨‡ßá‡¶®)" required>
  </div>
  
  <button onclick="createWish()">
    Create Beautiful Wish ‚ù§Ô∏è
  </button>
  
  <div class="share-section" id="shareSection">
    <p style="font-size: 14px;">Share this special wish:</p>
    <div class="link-box" id="linkBox"></div>
    
    <div class="share-buttons">
      <button class="share-btn copy-btn" onclick="copyLink()">
        üìã Copy Link
      </button>
      <button class="share-btn whatsapp-btn" onclick="shareWhatsApp()">
        üì± WhatsApp
      </button>
    </div>
  </div>
</div>

<!-- Wish Pages -->
<div class="container page" id="page1" style="display: none;">
  <h1 id="page1Title"></h1>
  <p id="page1Text" class="typewriter"></p>
  <button onclick="nextPage()">
    Continue ‚ù§Ô∏è
  </button>
</div>

<div class="container page" id="page2" style="display: none;">
  <h1>Every Moment with You üí´</h1>
  <p id="page2Text" class="typewriter"></p>
  <button onclick="nextPage()">
    Next Page üíù
  </button>
</div>

<div class="container page" id="page3" style="display: none;">
  <h1>My Promise to You ü§ù</h1>
  <p id="page3Text" class="typewriter"></p>
  <button onclick="nextPage()">
    Continue üåπ
  </button>
</div>

<div class="container page" id="page4" style="display: none;">
  <h1>A Special Question... üíç</h1>
  <p>Will you be my Valentine forever?</p>
  <div class="btn-group">
    <button onclick="beMyValentine()" style="background: #ff4d6d; color: white;">
      Yes! Forever ‚ù§Ô∏è
    </button>
    <button id="noBtn" onmouseover="moveNoButton()">
      No
    </button>
  </div>
</div>

<div class="container page" id="page5" style="display: none;">
  <h1>‚ù§Ô∏è You Said Yes! ‚ù§Ô∏è</h1>
  <div class="large-heart">üíñ</div>
  <p id="finalMessage" class="typewriter"></p>
  <p id="signature" style="font-weight: bold; margin-top: 20px;"></p>
  <button onclick="shareAgain()" style="margin-top: 20px;">
    Share This Happiness üíå
  </button>
</div>

<script>
let currentPage = 0;
const totalPages = 5;
let creatorName = "";
let partnerName = "";
let isWishActive = false;

// Start love rain immediately
startLoveRain();

// Start heart pops occasionally
setInterval(createHeartPop, 2000);

function startLoveRain() {
  const rainContainer = document.getElementById('loveRain');
  const hearts = ['‚ù§Ô∏è', 'üíñ', 'üíó', 'üíì', 'üíû', 'üíï', 'üíò', 'üíù'];
  
  // Create initial hearts
  for(let i = 0; i < 30; i++) {
    createRainHeart();
  }
  
  // Add new hearts regularly
  setInterval(createRainHeart, 300);
  
  function createRainHeart() {
    const heart = document.createElement('div');
    heart.className = 'love-drop';
    heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.animationDuration = (3 + Math.random() * 4) + 's';
    heart.style.fontSize = (20 + Math.random() * 20) + 'px';
    heart.style.opacity = 0.3 + Math.random() * 0.7;
    
    rainContainer.appendChild(heart);
    
    // Remove after animation
    setTimeout(() => {
      heart.remove();
    }, 7000);
  }
}

function createHeartPop() {
  if (!isWishActive) return;
  
  const heart = document.createElement('div');
  heart.className = 'heart-pop';
  heart.innerHTML = 'üíñ';
  heart.style.left = Math.random() * 100 + 'vw';
  heart.style.top = Math.random() * 100 + 'vh';
  heart.style.color = ['#ff4d6d', '#ff8fab', '#ffffff'][Math.floor(Math.random() * 3)];
  
  document.body.appendChild(heart);
  
  setTimeout(() => {
    heart.remove();
  }, 1000);
}

function createWish() {
  creatorName = document.getElementById('creatorName').value.trim();
  partnerName = document.getElementById('partnerName').value.trim();
  
  if (!creatorName || !partnerName) {
    alert('Please enter both names!');
    return;
  }
  
  // Generate sharing link
  const baseUrl = window.location.origin + window.location.pathname;
  const url = `${baseUrl}?creator=${encodeURIComponent(creatorName)}&partner=${encodeURIComponent(partnerName)}`;
  
  // Show share section
  document.getElementById('shareSection').style.display = 'block';
  document.getElementById('linkBox').innerText = url;
  
  // Save for sharing
  window.currentGeneratedUrl = url;
  window.waLink = `https://api.whatsapp.com/send?text=${encodeURIComponent(`Hello ${partnerName}! ‚ù§Ô∏è I have a special Valentine's wish for you. Click here: ${url}`)}`;
  
  // Auto start wish if names are provided in URL
  const urlParams = new URLSearchParams(window.location.search);
  if (urlParams.get('creator') && urlParams.get('partner')) {
    startWish();
  }
}

function copyLink() {
  navigator.clipboard.writeText(window.currentGeneratedUrl);
  alert('Link copied! Send it to your loved one. ‚ù§Ô∏è');
}

function shareWhatsApp() {
  window.open(window.waLink, '_blank');
}

function startWish() {
  const urlParams = new URLSearchParams(window.location.search);
  creatorName = urlParams.get('creator') || creatorName;
  partnerName = urlParams.get('partner') || partnerName;
  
  if (!creatorName || !partnerName) return;
  
  isWishActive = true;
  document.getElementById('inputPage').style.display = 'none';
  document.getElementById('page1').style.display = 'block';
  currentPage = 1;
  
  // Start typewriter effects
  typeWriter('page1Title', `For My Dear ${partnerName}... ‚ù§Ô∏è`, 50);
  typeWriter('page1Text', `Today, on this special day, I want to tell you something from the bottom of my heart...`, 40);
}

function typeWriter(elementId, text, speed = 40) {
  const element = document.getElementById(elementId);
  element.classList.remove('typewriter');
  element.innerHTML = '';
  
  let i = 0;
  function type() {
    if (i < text.length) {
      element.innerHTML += text.charAt(i);
      i++;
      setTimeout(type, speed);
    } else {
      element.classList.add('typewriter');
    }
  }
  type();
}

function nextPage() {
  document.getElementById(`page${currentPage}`).style.display = 'none';
  currentPage++;
  
  if (currentPage > totalPages) {
    currentPage = 1;
  }
  
  const pageElement = document.getElementById(`page${currentPage}`);
  pageElement.style.display = 'block';
  
  // Add content based on page
  switch(currentPage) {
    case 2:
      typeWriter('page2Text', `Every single moment with you feels magical, ${partnerName}. Your smile lights up my world and your presence makes everything better. I cherish every memory we've created together.`, 30);
      break;
    case 3:
      typeWriter('page3Text', `I promise to always stand by your side, to support your dreams, to make you laugh, and to love you more with each passing day. You are my everything, ${partnerName}.`, 30);
      break;
    case 4:
      // Question page - no typewriter needed
      break;
    case 5:
      typeWriter('finalMessage', `You've made me the happiest person in the world! This Valentine's Day, I want you to know that my love for you grows stronger every single day. Thank you for being my everything. ‚ù§Ô∏è`, 30);
      document.getElementById('signature').innerText = `With all my love,\n${creatorName}`;
      break;
  }
}

function moveNoButton() {
  const btn = document.getElementById('noBtn');
  const container = document.querySelector('.container');
  const containerRect = container.getBoundingClientRect();
  
  const maxX = containerRect.width - 100;
  const maxY = containerRect.height - 50;
  
  const randomX = Math.random() * maxX;
  const randomY = Math.random() * maxY;
  
  btn.style.position = 'absolute';
  btn.style.left = `${randomX}px`;
  btn.style.top = `${randomY}px`;
  
  // Add funny messages
  const messages = ["Are you sure?", "Think again!", "Really?", "Try again!", "Click Yes!"];
  btn.innerText = messages[Math.floor(Math.random() * messages.length)];
}

function beMyValentine() {
  // Create confetti explosion
  createConfettiExplosion();
  
  // Increase love rain
  for(let i = 0; i < 50; i++) {
    setTimeout(() => {
      createSpecialHeart();
    }, i * 50);
  }
  
  // Go to final page
  setTimeout(() => {
    nextPage();
  }, 1500);
}

function createConfettiExplosion() {
  const colors = ['#ff4d6d', '#ff8fab', '#ffffff', '#ffeb3b', '#c9ffbf'];
  
  for(let i = 0; i < 100; i++) {
    setTimeout(() => {
      const confetti = document.createElement('div');
      confetti.className = 'confetti';
      confetti.style.left = '50%';
      confetti.style.top = '50%';
      confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
      
      confetti.style.setProperty('--x', `${(Math.random() - 0.5) * 300}px`);
      confetti.style.setProperty('--deg', `${Math.random() * 720}deg`);
      
      document.body.appendChild(confetti);
      
      setTimeout(() => {
        confetti.remove();
      }, 2000);
    }, i * 10);
  }
}

function createSpecialHeart() {
  const heart = document.createElement('div');
  heart.className = 'love-drop';
  heart.innerHTML = 'üíñ';
  heart.style.left = Math.random() * 100 + 'vw';
  heart.style.animationDuration = '2s';
  heart.style.fontSize = '30px';
  heart.style.color = '#ffeb3b';
  heart.style.textShadow = '0 0 20px #ffeb3b';
  
  document.getElementById('loveRain').appendChild(heart);
  
  setTimeout(() => {
    heart.remove();
  }, 2000);
}

function shareAgain() {
  document.getElementById('page5').style.display = 'none';
  document.getElementById('inputPage').style.display = 'block';
  document.getElementById('shareSection').style.display = 'block';
  
  // Highlight the link
  const linkBox = document.getElementById('linkBox');
  linkBox.style.animation = 'none';
  setTimeout(() => {
    linkBox.style.animation = 'pulse 1s 3';
  }, 10);
}

// Check URL parameters on load
window.onload = function() {
  const urlParams = new URLSearchParams(window.location.search);
  if (urlParams.get('creator') && urlParams.get('partner')) {
    creatorName = urlParams.get('creator');
    partnerName = urlParams.get('partner');
    startWish();
  }
  
  // Add pulse animation for link box
  const style = document.createElement('style');
  style.textContent = `
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
  `;
  document.head.appendChild(style);
};
</script>
</body>
</html>
